ip="""
107.172.103.2 		端口号80开放
107.172.103.2 		端口号22开放
107.172.103.3 		端口号80开放
107.172.103.4 		端口号80开放
107.172.103.5 		端口号22开放
107.172.103.11 		端口号22开放
107.172.103.11 		端口号80开放
107.172.103.10 		端口号22开放
107.172.103.10 		端口号80开放
107.172.103.19 		端口号22开放
107.172.103.19 		端口号80开放
107.172.103.21 		端口号22开放
107.172.103.29 		端口号80开放
107.172.103.24 		端口号80开放
107.172.103.28 		端口号80开放
107.172.103.30 		端口号80开放
107.172.103.26 		端口号80开放
107.172.103.26 		端口号22开放
107.172.103.25 		端口号80开放
107.172.103.25 		端口号22开放
107.172.103.43 		端口号22开放
107.172.103.46 		端口号22开放
107.172.103.41 		端口号80开放
107.172.103.48 		端口号22开放
107.172.103.41 		端口号22开放
107.172.103.50 		端口号22开放
107.172.103.53 		端口号21开放
107.172.103.53 		端口号22开放
107.172.103.52 		端口号22开放
107.172.103.53 		端口号80开放
107.172.103.54 		端口号22开放
107.172.103.57 		端口号22开放
107.172.103.51 		端口号22开放
107.172.103.51 		端口号21开放
107.172.103.51 		端口号80开放
107.172.103.57 		端口号80开放
107.172.103.98 		端口号80开放
107.172.103.98 		端口号22开放
107.172.103.99 		端口号22开放
107.172.103.99 		端口号80开放
107.172.103.101 		端口号22开放
107.172.103.101 		端口号80开放
107.172.103.100 		端口号22开放
107.172.103.102 		端口号22开放
107.172.103.103 		端口号22开放
107.172.103.106 		端口号22开放
107.172.103.105 		端口号22开放
107.172.103.107 		端口号22开放
107.172.103.108 		端口号22开放
107.172.103.110 		端口号80开放
107.172.103.110 		端口号22开放
107.172.103.109 		端口号22开放
107.172.103.113 		端口号80开放
107.172.103.115 		端口号80开放
107.172.103.113 		端口号22开放
107.172.103.115 		端口号22开放
107.172.103.116 		端口号22开放
107.172.103.120 		端口号80开放
107.172.103.119 		端口号80开放
107.172.103.119 		端口号22开放
107.172.103.118 		端口号80开放
107.172.103.118 		端口号22开放
107.172.103.117 		端口号80开放
107.172.103.121 		端口号22开放
107.172.103.121 		端口号80开放
107.172.103.117 		端口号22开放
107.172.103.124 		端口号80开放
107.172.103.124 		端口号22开放
107.172.103.126 		端口号80开放
107.172.103.126 		端口号22开放
107.172.103.125 		端口号22开放
107.172.103.132 		端口号22开放
107.172.103.133 		端口号80开放
107.172.103.135 		端口号22开放
107.172.103.139 		端口号22开放
107.172.103.140 		端口号22开放
107.172.103.140 		端口号80开放
107.172.103.131 		端口号22开放
107.172.103.152 		端口号22开放
107.172.103.144 		端口号80开放
107.172.103.149 		端口号80开放
107.172.103.144 		端口号22开放
107.172.103.152 		端口号80开放
107.172.103.149 		端口号22开放
107.172.103.157 		端口号80开放
107.172.103.146 		端口号22开放
107.172.103.155 		端口号22开放
107.172.103.151 		端口号22开放
107.172.103.154 		端口号22开放
107.172.103.156 		端口号22开放
107.172.103.164 		端口号80开放
107.172.103.156 		端口号80开放
107.172.103.163 		端口号22开放
107.172.103.164 		端口号22开放
107.172.103.168 		端口号22开放
107.172.103.169 		端口号80开放
107.172.103.173 		端口号22开放
107.172.103.165 		端口号22开放
107.172.103.172 		端口号22开放
107.172.103.178 		端口号22开放
107.172.103.176 		端口号22开放
107.172.103.179 		端口号22开放
107.172.103.180 		端口号80开放
107.172.103.183 		端口号22开放
107.172.103.189 		端口号22开放
107.172.103.187 		端口号80开放
107.172.103.195 		端口号80开放
107.172.103.190 		端口号80开放
107.172.103.195 		端口号22开放
107.172.103.198 		端口号22开放
107.172.103.194 		端口号22开放
107.172.103.203 		端口号80开放
107.172.103.200 		端口号80开放
107.172.103.203 		端口号21开放
107.172.103.201 		端口号80开放
107.172.103.206 		端口号80开放
107.172.103.206 		端口号21开放
107.172.103.201 		端口号22开放
107.172.103.211 		端口号80开放
107.172.103.210 		端口号22开放
107.172.103.208 		端口号80开放
107.172.103.209 		端口号22开放
107.172.103.212 		端口号22开放
107.172.103.216 		端口号80开放
107.172.103.216 		端口号22开放
107.172.103.215 		端口号80开放
107.172.103.214 		端口号22开放
107.172.103.217 		端口号22开放
107.172.103.220 		端口号80开放
107.172.103.218 		端口号22开放
107.172.103.220 		端口号22开放
107.172.103.214 		端口号21开放
107.172.103.224 		端口号22开放
107.172.103.225 		端口号80开放
107.172.103.235 		端口号80开放
107.172.103.235 		端口号22开放
107.172.103.239 		端口号22开放
107.172.103.231 		端口号22开放
107.172.103.238 		端口号22开放
107.172.103.241 		端口号22开放
107.172.103.241 		端口号80开放
107.172.103.243 		端口号80开放
107.172.103.250 		端口号22开放
107.172.103.244 		端口号80开放
107.172.103.244 		端口号22开放
107.172.103.234 		端口号80开放
107.172.103.234 		端口号22开放
107.172.103.234 		端口号21开放
107.172.103.242 		端口号22开放
107.172.103.242 		端口号80开放

107.172.99.130 		端口号22开放
107.172.99.132 		端口号80开放
107.172.99.131 		端口号80开放
107.172.99.134 		端口号80开放
107.172.99.144 		端口号80开放
107.172.99.133 		端口号22开放
107.172.99.143 		端口号22开放
107.172.99.132 		端口号22开放
107.172.99.141 		端口号22开放
107.172.99.144 		端口号22开放
107.172.99.151 		端口号80开放
107.172.99.150 		端口号22开放
107.172.99.157 		端口号80开放
107.172.99.163 		端口号80开放
107.172.99.167 		端口号22开放
107.172.99.153 		端口号80开放
107.172.99.168 		端口号22开放
107.172.99.153 		端口号22开放
107.172.99.154 		端口号80开放
107.172.99.190 		端口号80开放
107.172.99.185 		端口号22开放
107.172.99.149 		端口号80开放
107.172.99.171 		端口号80开放
107.172.99.155 		端口号80开放
107.172.99.175 		端口号80开放
107.172.99.173 		端口号22开放
107.172.99.154 		端口号22开放
107.172.99.181 		端口号80开放
107.172.99.155 		端口号22开放
107.172.99.190 		端口号22开放
107.172.99.189 		端口号22开放
107.172.99.180 		端口号22开放
107.172.99.182 		端口号22开放
107.172.99.189 		端口号80开放
"""
import re
f=re.compile('([\d\.]+).*?([\d]+)')
x=f.findall(ip)
ipdict={}
for i in x:
    if i[0] not in ipdict:
        print(i[0])
        ipdict[i[0]]=[]
    ipdict[i[0]].append(i[1])
    # if '80'in i[1] and  '22'in i[1]:
print(ipdict)
for i in ipdict:
    if "22" in ipdict[i] and "80" in ipdict[i]:
        print(i)
# 173.205.51.58
# 173.245.71.178

